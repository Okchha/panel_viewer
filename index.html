<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Draggable Panel</title>
    <style>
        .panel {
            position: absolute;
            border: 2px solid #000;
            background-color: #f0f0f0;
        }
        .corner {
            width: 10px;
            height: 10px;
            background-color: red;
            position: absolute;
            cursor: pointer;
        }
        .corner.tl { top: -5px; left: -5px; cursor: nwse-resize; }
        .corner.tr { top: -5px; right: -5px; cursor: nesw-resize; }
        .corner.bl { bottom: -5px; left: -5px; cursor: nesw-resize; }
        .corner.br { bottom: -5px; right: -5px; cursor: nwse-resize; }
    </style>
</head>
<body>
    <div id="panel" class="panel" style="width: 200px; height: 200px; top: 50px; left: 50px;">
        <div class="corner tl"></div>
       ="corner tr"></div>
        <div class="corner bl"></div>
        <div class="corner br"></div>
    </div>
    <button onclick="saveShape()">Save Shape</button>
    <script>
        const panel = document.getElementById('panel');
        const corners = document.querySelectorAll('.corner');
        let currentCorner = null;

        corners.forEach(corner => {
            corner.addEventListener('mousedown', (e) => {
                currentCorner = e.target;
                document.addEventListener('mousemove', resizePanel);
                document.addEventListener('mouseup', stopResize);
            });
        });

        function resizePanel(e) {
            if (!currentCorner) return;
            const rect = panel.getBoundingClientRect();
            if (currentCorner.classList.contains('tl')) {
                panel.style.width = rect.right - e.clientX + 'px';
                panel.style.height = rect.bottom - e.clientY + 'px';
                panel.style.left = e.clientX + 'px';
                panel.style.top = e.clientY + 'px';
            } else if (currentCorner.classList.contains('tr')) {
                panel.style.width = e.clientX - rect.left + 'px';
                panel.style.height = rect.bottom - e.clientY + 'px';
                panel.style.top = e.clientY + 'px';
            } else if (currentCorner.classList.contains('bl')) {
                panel.style.width = rect.right - e.clientX + 'px';
                panel.style.height = e.clientY - rect.top + 'px';
                panel.style.left = e.clientX + 'px';
            } else if (currentCorner.classList.contains('br')) {
                panel.style.width = e.clientX - rect.left + 'px';
                panel.style.height = e.clientY - rect.top + 'px';
            }
        }

        function stopResize() {
            document.removeEventListener('mousemove', resizePanel);
            document.removeEventListener('mouseup', stopResize);
            currentCorner = null;
        }

        function saveShape() {
            const rect = panel.getBoundingClientRect();
            const shape = {
                width: rect.width,
                height: rect.height,
                top: rect.top,
                left: rect.left
            };
            localStorage.setItem('panelShape', JSON.stringify(shape));
        }

        function loadShape() {
            const shape = JSON.parse(localStorage.getItem('panelShape'));
            if (shape) {
                panel.style.width = shape.width + 'px';
                panel.style.height = shape.height + 'px';
                panel.style.top = shape.top + 'px';
                panel.style.left = shape.left + 'px';
            }
        }

        window.onload = loadShape;
    </script>
</body>
</html>
